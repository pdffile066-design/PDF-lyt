<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Delete specific pages from a PDF document online for free. Easily remove unwanted or blank pages with PDFlyt's secure PDF page remover tool.">
    <meta name="keywords" content="Delete PDF Pages, Remove PDF Pages, PDF Page Remover, PDF Deleter, PDFlyt">
    
    <title>Delete Pages from PDF | PDFlyt - Free PDF Page Remover</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Fonts and Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Libraries -->
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js`;
    </script>

    <style>
        :root {
            --primary-color: #6366F1; --primary-dark: #4F46E5; --success-color: #10B981; --danger-color: #EF4444;
            --light-bg: #F8FAFC; --white: #FFFFFF; --gray-50: #F3F4F6; --gray-100: #E5E7EB; --gray-200: #D1D5DB;
            --gray-600: #4B5563; --gray-800: #1F2937; --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25); --border-radius: 16px; --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background-color: var(--light-bg); color: var(--gray-800); }
        .header { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(20px); box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05); position: sticky; top: 0; z-index: 1000; }
        .nav-container { max-width: 1400px; margin: 0 auto; padding: 1.25rem 2rem; display: flex; justify-content: space-between; align-items: center; }
        .logo { display: flex; align-items: center; gap: 1rem; text-decoration: none; }
        .logo-icon { width: 48px; height: 48px; background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)); border-radius: 14px; display: flex; align-items: center; justify-content: center; color: var(--white); font-size: 1.5rem; }
        .logo-text { font-family: 'Poppins', sans-serif; font-size: 1.75rem; font-weight: 700; background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)); -webkit-background-clip: text; background-clip: text; color: transparent; }
        .nav-menu { display: flex; list-style: none; gap: 2.5rem; }
        .nav-link { text-decoration: none; color: var(--gray-600); font-weight: 600; font-size: 0.95rem; }
        .main-content { padding: 4rem 2rem; }
        .tool-container { max-width: 900px; margin: 0 auto; background: var(--white); border-radius: var(--border-radius); box-shadow: var(--shadow-2xl); padding: 2.5rem; border: 1px solid var(--gray-100); text-align: center; }
        .tool-header { margin-bottom: 2rem; }
        .tool-icon-large { width: 80px; height: 80px; background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--white); font-size: 2.5rem; margin: 0 auto 1.5rem; box-shadow: var(--shadow-lg); }
        .tool-title { font-family: 'Poppins', sans-serif; font-size: 2.5rem; font-weight: 800; color: var(--gray-800); margin-bottom: 1rem; }
        .tool-description { font-size: 1.1rem; color: var(--gray-600); max-width: 650px; margin: 0 auto; }
        .upload-area { border: 3px dashed var(--gray-200); border-radius: var(--border-radius); padding: 3rem 2rem; background-color: #F9FAFB; cursor: pointer; }
        #file-input { display: none; }
        
        #delete-interface { display: none; }
        #page-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 1.5rem; max-height: 500px; overflow-y: auto; padding: 1rem; background: var(--gray-50); border-radius: 12px; }
        .page-item { position: relative; cursor: pointer; transition: var(--transition); }
        .page-item:hover { transform: translateY(-5px); }
        .page-item canvas { width: 100%; height: auto; border: 1px solid var(--gray-200); border-radius: 8px; background: var(--white); box-shadow: var(--shadow-lg); }
        .page-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(239, 68, 68, 0.7); border-radius: 8px; display: none; align-items: center; justify-content: center; color: white; font-size: 2.5rem; }
        .page-item.selected .page-overlay { display: flex; }
        .page-number { position: absolute; top: 8px; left: 8px; background: var(--primary-dark); color: white; border-radius: 50%; width: 24px; height: 24px; font-size: 0.8rem; display: flex; align-items: center; justify-content: center; font-weight: 700; }

        .action-button { display: inline-flex; align-items: center; justify-content: center; gap: 0.75rem; background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)); color: var(--white); padding: 1rem 2.5rem; border-radius: 14px; border: none; cursor: pointer; font-size: 1.1rem; box-shadow: var(--shadow-lg); margin-top: 2rem; }
        .action-button:disabled { background: var(--gray-200); cursor: not-allowed; box-shadow: none; transform: none; }
        .processing-state, .success-state { display: none; padding: 3rem 0; }
        .spinner { width: 50px; height: 50px; border: 5px solid var(--gray-200); border-top-color: var(--primary-color); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 1.5rem; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .success-icon { font-size: 4rem; color: var(--success-color); margin-bottom: 1.5rem; }
        .download-button { background: var(--success-color); font-size: 1.1rem; padding: 1rem 2.5rem; border-radius: 14px; color: white; text-decoration: none; display: inline-flex; align-items: center; gap: 0.75rem; margin-top: 1rem; }
        .start-over-button { background: none; border: 2px solid var(--gray-200); color: var(--gray-800); margin-left: 1rem; }
        
        .about-tool { padding: 4rem 2rem; background: linear-gradient(to bottom, var(--white), var(--gray-50)); margin-top: 4rem; }
        .about-tool-content { max-width: 800px; margin: 0 auto; text-align: left; }
        .footer { background: #0F172A; color: white; padding: 5rem 2rem 1rem; text-align: center; }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav-container">
            <a href="index.html" class="logo">
                <div class="logo-icon"><i class="fas fa-file-pdf"></i></div>
                <div><div class="logo-text">PDFlyt</div></div>
            </a>
            <ul class="nav-menu">
                <li><a href="index.html#pdf-tools" class="nav-link">PDF Tools</a></li>
                <li><a href="index.html#image-tools" class="nav-link">Image Tools</a></li>
            </ul>
        </nav>
    </header>

    <main class="main-content">
        <div class="tool-container">
            <div id="upload-state">
                <div class="tool-header">
                    <div class="tool-icon-large"><i class="fas fa-trash-alt"></i></div>
                    <h1 class="tool-title">Delete PDF Pages</h1>
                    <p class="tool-description">Easily remove one or more pages from your PDF file. Click on the pages you want to delete and download your new document.</p>
                </div>
                <div class="upload-area" id="upload-area">
                    <div class="upload-icon"><i class="fas fa-cloud-upload-alt"></i></div>
                    <h3>Drag & Drop a PDF Here</h3><p>or <span style="color:var(--primary-color);font-weight:600;">Browse File</span></p>
                    <input type="file" id="file-input" accept=".pdf">
                </div>
            </div>

            <div id="delete-interface">
                <!-- This will be populated by JavaScript -->
            </div>

            <div class="processing-state" id="processing-state">
                <div class="spinner"></div><h2 class="tool-title">Deleting Pages...</h2>
            </div>
            <div class="success-state" id="success-state">
                <div class="success-icon"><i class="fas fa-check-circle"></i></div>
                <h2 class="tool-title">Pages Deleted Successfully!</h2>
                <a href="#" class="download-button" id="download-button" download="deleted.pdf"><i class="fas fa-download"></i> Download New PDF</a>
                <button class="action-button start-over-button" id="start-over-button"><i class="fas fa-redo"></i> Start Over</button>
            </div>
        </div>
    </main>
    
    <section class="about-tool">
        <div class="about-tool-content">
            <h2>About the Delete PDF Pages Tool</h2>
            <h3>Why Remove Pages from a PDF?</h3>
            <p>Often, PDF documents contain extra or unwanted pages. This tool allows you to easily clean up your files for a more professional and concise result.</p>
            <ul>
                <li><strong>Remove Blank Pages:</strong> Get rid of empty pages that may have been added during scanning or conversion.</li>
                <li><strong>Extract Important Sections:</strong> By deleting irrelevant pages, you can effectively create a shorter, more focused document.</li>
                <li><strong>Protect Privacy:</strong> Remove pages that contain sensitive or confidential information before sharing the document.</li>
                <li><strong>Reduce File Size:</strong> Removing pages, especially those with large images, can help reduce the overall size of your PDF.</li>
            </ul>
            <h3>Is This Tool Secure?</h3>
            <p>Yes. Your privacy is guaranteed. All processing happens directly in your browser. Your PDF files are never sent to our servers, ensuring your data remains private and secure on your own device.</p>
        </div>
    </section>

    <footer class="footer"><p>&copy; 2024 PDFlyt. All rights reserved.</p></footer>

    <script>
        const uploadState = document.getElementById('upload-state');
        const deleteInterface = document.getElementById('delete-interface');
        const processingState = document.getElementById('processing-state');
        const successState = document.getElementById('success-state');
        const fileInput = document.getElementById('file-input');
        const uploadArea = document.getElementById('upload-area');
        
        let pdfDoc = null, fileBuffer = null, originalFileName = '';
        let selectedPages = new Set();

        // --- File Upload Logic ---
        uploadArea.addEventListener('click', () => fileInput.click());
        uploadArea.addEventListener('dragover', (e) => { e.preventDefault(); uploadArea.classList.add('dragover'); });
        uploadArea.addEventListener('dragleave', () => uploadArea.classList.remove('dragover'));
        uploadArea.addEventListener('drop', (e) => { e.preventDefault(); uploadArea.classList.remove('dragover'); handleFile(e.dataTransfer.files[0]); });
        fileInput.addEventListener('change', (e) => handleFile(e.target.files[0]));

        async function handleFile(file) {
            if (!file || file.type !== 'application/pdf') { alert('Please upload a valid PDF file.'); return; }
            originalFileName = file.name;
            fileBuffer = await file.arrayBuffer();
            uploadState.style.display = 'none';
            deleteInterface.innerHTML = `
                <p class="tool-description" style="margin-bottom: 1.5rem;">Click on the pages you wish to remove. You cannot delete all pages.</p>
                <div id="page-grid"></div>
                <button class="action-button" id="delete-button" disabled><i class="fas fa-trash-alt"></i> Delete Selected Pages</button>
            `;
            deleteInterface.style.display = 'block';
            setupEventListeners();
            loadPdf(fileBuffer);
        }

        async function loadPdf(data) {
            try {
                pdfDoc = await pdfjsLib.getDocument({ data }).promise;
                document.getElementById('page-grid').innerHTML = '';
                for (let i = 1; i <= pdfDoc.numPages; i++) {
                    await renderPageThumbnail(i);
                }
            } catch(error) { alert("Could not load PDF."); resetTool(); }
        }

        async function renderPageThumbnail(num) {
            const page = await pdfDoc.getPage(num);
            const viewport = page.getViewport({ scale: 1 });
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            const outputScale = window.devicePixelRatio || 1;
            canvas.width = Math.floor(viewport.width * outputScale);
            canvas.height = Math.floor(viewport.height * outputScale);
            canvas.style.width = `100%`;
            canvas.style.height = `auto`;

            await page.render({ canvasContext: context, transform: [outputScale, 0, 0, outputScale, 0, 0], viewport }).promise;
            
            const pageItem = document.createElement('div');
            pageItem.className = 'page-item';
            pageItem.dataset.pageNum = num;
            pageItem.innerHTML = `
                <div class="page-number">${num}</div>
                <div class="page-overlay"><i class="fas fa-trash-alt"></i></div>
            `;
            pageItem.prepend(canvas);
            document.getElementById('page-grid').appendChild(pageItem);
        }
        
        function setupEventListeners() {
            document.getElementById('page-grid').addEventListener('click', handlePageSelect);
            document.getElementById('delete-button').addEventListener('click', applyDeletions);
            document.getElementById('start-over-button').addEventListener('click', resetTool);
        }

        function handlePageSelect(e) {
            const pageItem = e.target.closest('.page-item');
            if (!pageItem) return;

            const pageNum = parseInt(pageItem.dataset.pageNum, 10);
            pageItem.classList.toggle('selected');
            
            if (selectedPages.has(pageNum)) {
                selectedPages.delete(pageNum);
            } else {
                selectedPages.add(pageNum);
            }
            updateDeleteButtonState();
        }

        function updateDeleteButtonState() {
            const deleteButton = document.getElementById('delete-button');
            const canDelete = selectedPages.size > 0 && selectedPages.size < pdfDoc.numPages;
            deleteButton.disabled = !canDelete;
        }

        async function applyDeletions() {
            deleteInterface.style.display = 'none';
            processingState.style.display = 'block';
            try {
                const { PDFDocument } = PDFLib;
                const pdf = await PDFDocument.load(fileBuffer);
                
                // Get indices to remove, sorted from highest to lowest to avoid shifting
                const indicesToRemove = Array.from(selectedPages).map(p => p - 1).sort((a, b) => b - a);
                
                indicesToRemove.forEach(index => {
                    pdf.removePage(index);
                });

                const newPdfBytes = await pdf.save();
                const blob = new Blob([newPdfBytes], { type: 'application/pdf' });
                const downloadUrl = URL.createObjectURL(blob);
                
                const downloadButton = document.getElementById('download-button');
                downloadButton.href = downloadUrl;
                downloadButton.download = `deleted-${originalFileName}`;
                
                processingState.style.display = 'none';
                successState.style.display = 'block';
            } catch (error) { console.error("Deletion failed:", error); alert('An error occurred. Please try again.'); resetTool(); }
        }

        function resetTool() {
            pdfDoc = null; fileBuffer = null; originalFileName = ''; selectedPages.clear();
            successState.style.display = 'none';
            processingState.style.display = 'none';
            deleteInterface.style.display = 'none';
            uploadState.style.display = 'block';
            fileInput.value = '';
        }
    </script>
</body>
</html>
